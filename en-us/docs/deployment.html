<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="Nacos,deployment modes" />
	<meta name="description" content="Nacos supports three types of deployment modes" />
  <meta name="baidu-site-verification" content="code-wzq5sw7io3" />
	<!-- 网页标签标题 -->
	<title>Nacos supports three types of deployment modes</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot="" data-reactid="1" data-react-checksum="-538810812"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/en-us/index.html" data-reactid="4"><img class="logo" src="/img/nacos_colorful.png" data-reactid="5"/></a><div class="search search-normal" data-reactid="6"><span class="icon-search" data-reactid="7"></span></div><span class="language-switch language-switch-normal" data-reactid="8">中</span><div class="header-menu" data-reactid="9"><img class="header-menu-toggle" src="/img/menu_gray.png" data-reactid="10"/><ul data-reactid="11"><li class="menu-item menu-item-normal" data-reactid="12"><span data-reactid="13"><a href="/en-us/index.html" data-reactid="14">HOME</a></span></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="15"><span data-reactid="16"><a href="/en-us/docs/quick-start.html" data-reactid="17">DOCS</a></span></li><li class="menu-item menu-item-normal" data-reactid="18"><div class="nav-container" data-reactid="19"><div class="word" data-reactid="20"><a data-reactid="21">SOLUTIONS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png" data-reactid="22"/></div><ul class="sub-nav-container" style="width:290px;" data-reactid="23"><li data-reactid="24"><a href="https://www.alibabacloud.com/product/microservices-engine" target="_blank" data-reactid="25">Microservice Solution</a></li><li data-reactid="26"><a href="https://cn.aliyun.com/product/aliware/sae?spm=nacos-website.topbar.0.0.0" target="_blank" data-reactid="27">Microservice on Serverless Solution</a></li><li data-reactid="28"><a href="https://www.aliyun.com/product/edas?spm=nacos-website.topbar.0.0.0" target="_blank" data-reactid="29">PaaS Solution</a></li><li data-reactid="30"><a href="https://www.aliyun.com/aliware/txc?spm=nacos-website.topbar.0.0.0" target="_blank" data-reactid="31">Distributed transaction Solution</a></li><li data-reactid="32"><a href="https://www.aliyun.com/product/ahas?spm=nacos-website.topbar.0.0.0" target="_blank" data-reactid="33">High-availability Solution</a></li><li data-reactid="34"><a href="https://www.aliyun.com/product/servicemesh?spm=nacos-website.topbar.0.0.0" target="_blank" data-reactid="35">Service mesh Solution</a></li></ul><!-- react-text: 36 --> <!-- /react-text --></div></li><li class="menu-item menu-item-normal" data-reactid="37"><span data-reactid="38"><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" data-reactid="39">NACOS IN CLOUD</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png" data-reactid="40"/></span></li><li class="menu-item menu-item-normal" data-reactid="41"><span data-reactid="42"><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST" data-reactid="43">E-BOOK-NACOS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png" data-reactid="44"/></span></li><li class="menu-item menu-item-normal" data-reactid="45"><span data-reactid="46"><a href="/en-us/blog" data-reactid="47">BLOG</a></span></li><li class="menu-item menu-item-normal" data-reactid="48"><span data-reactid="49"><a href="/en-us/community" data-reactid="50">COMMUNITY</a></span></li><li class="menu-item menu-item-normal" data-reactid="51"><span data-reactid="52"><a href="http://console.nacos.io/nacos/index.html" data-reactid="53">DEMO-CONSOLE</a></span></li></ul></div></div></header><div class="bar" data-reactid="54"><div class="bar-body" data-reactid="55"><img src="/img/docs.png" class="front-img" data-reactid="56"/><div class="bar-title" data-reactid="57"><span data-reactid="58">Documentation</span><div class="bone bone-light" data-reactid="59"></div></div><img src="/img/docs.png" class="back-img" data-reactid="60"/></div></div><section class="content-section" data-reactid="61"><div class="content-body" data-reactid="62"><div class="sidemenu" data-reactid="63"><div class="sidemenu-toggle" data-reactid="64"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png" data-reactid="65"/></div><ul data-reactid="66"><li class="menu-item menu-item-level-1" data-reactid="67"><span data-reactid="68">Nacos </span><ul data-reactid="69"><li style="height:180px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="70"><span data-reactid="71"><!-- react-text: 72 -->What is Nacos<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="73"/></span><ul data-reactid="74"><li class="menu-item menu-item-level-3" data-reactid="75"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="76">What is Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="77"><a href="/en-us/docs/concepts.html" target="_self" data-reactid="78">Concepts</a></li><li class="menu-item menu-item-level-3" data-reactid="79"><a href="/en-us/docs/architecture.html" target="_self" data-reactid="80">Architecure</a></li><li class="menu-item menu-item-level-3" data-reactid="81"><a href="/en-us/docs/feature-list.html" target="_self" data-reactid="82">Feature list</a></li></ul></li><li style="height:180px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="83"><span data-reactid="84"><!-- react-text: 85 -->Nacos 2.0<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="86"/></span><ul data-reactid="87"><li class="menu-item menu-item-level-3" data-reactid="88"><a href="/en-us/docs/2.0.0-compatibility.html" target="_self" data-reactid="89">Compatibility&amp;Usage</a></li><li class="menu-item menu-item-level-3" data-reactid="90"><a href="/en-us/docs/2.0.0-upgrading.html" target="_self" data-reactid="91">Upgrading</a></li><li class="menu-item menu-item-level-3" data-reactid="92"><a href="/en-us/docs/auth-plugin.html" target="_self" data-reactid="93">Authentication Plugin</a></li><li class="menu-item menu-item-level-3" data-reactid="94"><a href="/en-us/docs/config-encryption.html" target="_self" data-reactid="95">Configure Encryption Plugin</a></li></ul></li><li style="height:324px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="96"><span data-reactid="97"><!-- react-text: 98 -->Quick Start<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="99"/></span><ul data-reactid="100"><li class="menu-item menu-item-level-3" data-reactid="101"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="102">Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="103"><a href="/en-us/docs/quick-start-spring.html" target="_self" data-reactid="104">Nacos Spring</a></li><li class="menu-item menu-item-level-3" data-reactid="105"><a href="/en-us/docs/quick-start-spring-boot.html" target="_self" data-reactid="106">Nacos Spring Boot</a></li><li class="menu-item menu-item-level-3" data-reactid="107"><a href="/en-us/docs/quick-start-spring-cloud.html" target="_self" data-reactid="108">Nacos Spring Cloud</a></li><li class="menu-item menu-item-level-3" data-reactid="109"><a href="/en-us/docs/quick-start-docker.html" target="_self" data-reactid="110">Nacos Docker</a></li><li class="menu-item menu-item-level-3" data-reactid="111"><a href="/en-us/docs/use-nacos-with-dubbo.html" target="_self" data-reactid="112">Nacos with Dubbo</a></li><li class="menu-item menu-item-level-3" data-reactid="113"><a href="/en-us/docs/use-nacos-with-kubernetes.html" target="_self" data-reactid="114">Nacos with K8s</a></li><li class="menu-item menu-item-level-3" data-reactid="115"><a href="/en-us/docs/nacos-sync.html" target="_self" data-reactid="116">Nacos Sync</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="117"><span data-reactid="118"><!-- react-text: 119 -->User Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="120"/></span><ul data-reactid="121"><li class="menu-item menu-item-level-3" data-reactid="122"><a href="/en-us/docs/sdk.html" target="_self" data-reactid="123">Java SDK</a></li><li class="menu-item menu-item-level-3" data-reactid="124"><a href="/en-us/docs/other-language.html" target="_self" data-reactid="125">Other Language</a></li><li class="menu-item menu-item-level-3" data-reactid="126"><a href="/en-us/docs/open-api.html" target="_self" data-reactid="127">Open-API</a></li><li class="menu-item menu-item-level-3" data-reactid="128"><a href="/en-us/docs/nacos-spring.html" target="_self" data-reactid="129">Nacos Spring</a></li><li class="menu-item menu-item-level-3" data-reactid="130"><a href="/en-us/docs/system-configurations.html" target="_self" data-reactid="131">Nacos System Configurations</a></li><li class="menu-item menu-item-level-3" data-reactid="132"><a href="/en-us/docs/auth.html" target="_self" data-reactid="133">Authentication</a></li><li class="menu-item menu-item-level-3" data-reactid="134"><a href="/en-us/docs/faq.html" target="_self" data-reactid="135">FAQ</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="136"><span data-reactid="137"><!-- react-text: 138 -->Admin Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="139"/></span><ul data-reactid="140"><li class="menu-item menu-item-level-3" data-reactid="141"><a href="/en-us/docs/deployment.html" target="_self" data-reactid="142">Deployment Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="143"><a href="/en-us/docs/cluster-mode-quick-start.html" target="_self" data-reactid="144">Cluster Mode Deployment</a></li><li class="menu-item menu-item-level-3" data-reactid="145"><a href="/en-us/docs/management-api.html" target="_self" data-reactid="146">Management OpenAPI</a></li><li class="menu-item menu-item-level-3" data-reactid="147"><a href="/en-us/docs/console-guide.html" target="_self" data-reactid="148">Admin Console Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="149"><a href="/en-us/docs/monitor-guide.html" target="_self" data-reactid="150">Nacos Monitor Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="151"><a href="/en-us/docs/nacos-config-benchmark.html" target="_self" data-reactid="152">Nacos Config Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="153"><a href="/en-us/docs/nacos2-config-benchmark.html" target="_self" data-reactid="154">Nacos2.0 Config Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="155"><a href="/en-us/docs/nacos-naming-benchmark.html" target="_self" data-reactid="156">Nacos Naming Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="157"><a href="/en-us/docs/nacos2-naming-benchmark.html" target="_self" data-reactid="158">Nacos2.0 Naming Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="159"><a href="/en-us/docs/nacos-sync-use.html" target="_self" data-reactid="160">Data Migration to Nacos</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="161"><span data-reactid="162"><!-- react-text: 163 -->Contributor Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="164"/></span><ul data-reactid="165"><li class="menu-item menu-item-level-3" data-reactid="166"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="167">Contribute to Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="168"><a href="/en-us/docs/contributing-flow.html" target="_self" data-reactid="169">Contributing Flow</a></li><li class="menu-item menu-item-level-3" data-reactid="170"><a href="/en-us/docs/pull-request.html" target="_self" data-reactid="171">Pull Request Template</a></li><li class="menu-item menu-item-level-3" data-reactid="172"><a href="/en-us/docs/how-to-reporting-bugs.html" target="_self" data-reactid="173">How to report bugs</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="174"><span data-reactid="175"><!-- react-text: 176 -->Community<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="177"/></span><ul data-reactid="178"><li class="menu-item menu-item-level-3" data-reactid="179"><a href="/en-us/docs/community.html" target="_self" data-reactid="180">Community</a></li><li class="menu-item menu-item-level-3" data-reactid="181"><a href="/en-us/docs/nacos-dev.html" target="_self" data-reactid="182">Develop Team</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body" data-reactid="183"><h1>Nacos deployment environment</h1>
<p>Nacos is defined as an IDC internal application component, not a product for the public network environment. It is not recommended expose it to the public network environment directly.</p>
<p>All network related concepts such as VIP and network interface mentioned in the following documents are in the <strong>internal network environment</strong>.</p>
<h1>Nacos supports three types of deployment modes</h1>
<ul>
<li>Standalone Mode - used in DEV or TEST environment.</li>
<li>Cluster Mode - used in production environment to ensure high-availability.</li>
<li>Multi-Cluster Mode - in complicated production mode, you may want to deploy multi-cluster mode to support different business units.</li>
</ul>
<h1>Environment preparation</h1>
<ul>
<li>JDK installed, 1.8 and above are required</li>
<li>Recommendation: 2 core CPU / 4G RAM and above</li>
<li>Recommendation: Production environment with 3 nodes and above</li>
</ul>
<h2>Running Nacos in Standalone Mode</h2>
<h3>Linux/Unix/Mac</h3>
<ul>
<li>Standalone means it is non-cluster Mode. *
sh <a href="http://startup.sh">startup.sh</a> -m standalone</li>
</ul>
<h3>Windows</h3>
<ul>
<li>Standalone means it is non-cluster Mode. *
cmd startup.cmd -m standalone</li>
</ul>
<h3>Running Nacos with mysql in Standalone Mode</h3>
<h4>Initialize MySQL database</h4>
<p><a href="https://github.com/alibaba/nacos/blob/master/distribution/conf/mysql-schema.sql">sql statement source file</a></p>
<h4>application.properties configuration</h4>
<p><a href="https://github.com/alibaba/nacos/blob/master/distribution/conf/application.properties">application.properties configuration file</a></p>
<p>add mysql datasource and configure url, user and password</p>
<pre><code>spring.datasource.platform=mysql

db.num=1
db.url.0=jdbc:mysql://11.162.196.16:3306/nacos_devtest?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true
db.user=nacos_devtest
db.password=youdontknow
</code></pre>
<h2>Running Nacos in Multi-Node Cluster Mode</h2>
<p><a href="https://nacos.io/en-us/docs/cluster-mode-quick-start.html">Nacos in Multi-Node Cluster Mode</a></p>
<h2>Deploy Nacos in Multi-Cluster Mode</h2>
<p>Nacos support a NameServer route request mode， by which you can design a useful mapping rule to control the request forward to the corresponding cluster, in the mapping rule you can sharding the request by namespace or by tenant etc...</p>
<p>to setup a NameServer:</p>
<h2>IP Selection of Multiple Network Cards</h2>
<p>When the local environment is complex, the Nacos service needs to choose IP or network card to use at runtime when it starts up. Nacos Gets IP Reference Spring Cloud Design from Multiple Network Cards. With the nacos.inetutils parameter, you can specify the network card and IP address used by Nacos. The configuration parameters currently supported are:</p>
<ul>
<li>ip-address parameter can set Nacos IP directly</li>
</ul>
<pre><code>nacos.inetutils.ip-address=10.11.105.155
</code></pre>
<ul>
<li>use-only-site-local-interfaces parameter allows Nacos to use LAN ip, which is useful when Nacos deploys a machine with multiple network cards</li>
</ul>
<pre><code>nacos.inetutils.use-only-site-local-interfaces=true
</code></pre>
<ul>
<li>ignored-interfaces parameter support network card arrays, allowing Nacos to ignore multiple network cards</li>
</ul>
<pre><code>nacos.inetutils.ignored-interfaces[0]=eth0
nacos.inetutils.ignored-interfaces[1]=eth1
</code></pre>
<ul>
<li>preferred-networks parameter allow Nacos to select the matching IP preferentially and support regular matching and prefix matching</li>
</ul>
<pre><code>nacos.inetutils.preferred-networks[0]=30.5.124.
nacos.inetutils.preferred-networks[0]=30.5.124.(25[0-5]|2[0-4]\\d|((1d{2})|([1-9]?\\d))),30.5.124.(25[0-5]|2[0-4]\\d|((1d{2})|([1-9]?\\d)))
</code></pre>
</div></div></section><footer class="footer-container" data-reactid="184"><div class="footer-body" data-reactid="185"><img src="/img/nacos_gray.png" data-reactid="186"/><div class="cols-container" data-reactid="187"><div class="col col-12" data-reactid="188"><h3 data-reactid="189">Vision</h3><p data-reactid="190">By providing an easy-to-use service infrastructure such as dynamic service discovery, service configuration, service sharing and management and etc., Nacos help users better construct, deliver and manage their own service platform, reuse and composite business service faster and deliver value of business innovation more quickly so as to win market for users in the era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class="col col-6" data-reactid="191"><dl data-reactid="192"><dt data-reactid="193">Documentation</dt><dd data-reactid="194"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="195">Overview</a></dd><dd data-reactid="196"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="197">Quick start</a></dd><dd data-reactid="198"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="199">Developer guide</a></dd></dl></div><div class="col col-6" data-reactid="200"><dl data-reactid="201"><dt data-reactid="202">Resources</dt><dd data-reactid="203"><a href="/en-us/community/index.html" target="_self" data-reactid="204">Community</a></dd><dd data-reactid="205"><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_self" data-reactid="206">Cloud Service MSE</a></dd><dd data-reactid="207"><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self" data-reactid="208">Cloud Service EDAS</a></dd><dd data-reactid="209"><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self" data-reactid="210">Cloud Service AHAS</a></dd></dl></div></div><div class="copyright" data-reactid="211"><span data-reactid="212">@ 2022 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js">
	</script>
	<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</body>
</html>