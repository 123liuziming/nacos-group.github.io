<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="Nacos,Spring Boot" />
	<meta name="description" content="Quick Start for Nacos Spring Boot Projects" />
	<!-- 网页标签标题 -->
	<title>Quick Start for Nacos Spring Boot Projects</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot="" data-reactid="1" data-react-checksum="528945584"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/en-us/index.html" data-reactid="4"><img class="logo" src="/img/nacos_colorful.png" data-reactid="5"/></a><div class="search search-normal" data-reactid="6"><span class="icon-search" data-reactid="7"></span></div><span class="language-switch language-switch-normal" data-reactid="8">中</span><div class="header-menu" data-reactid="9"><img class="header-menu-toggle" src="/img/menu_gray.png" data-reactid="10"/><ul data-reactid="11"><li class="menu-item menu-item-normal" data-reactid="12"><a href="/en-us/index.html" data-reactid="13">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="14"><a href="/en-us/docs/quick-start.html" data-reactid="15">DOCS</a></li><li class="menu-item menu-item-normal" data-reactid="16"><a href="/en-us/blog" data-reactid="17">BLOG</a></li><li class="menu-item menu-item-normal" data-reactid="18"><a href="/en-us/community" data-reactid="19">COMMUNITY</a></li><li class="menu-item menu-item-normal" data-reactid="20"><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" data-reactid="21">NACOS IN CLOUD</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png" data-reactid="22"/></li><li class="menu-item menu-item-normal" data-reactid="23"><a href="https://job.alibaba.com/zhaopin/position_detail.htm?trace=qrcode_share&amp;positionCode=GP633620" data-reactid="24">HIRING</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png" data-reactid="25"/></li><li class="menu-item menu-item-normal" data-reactid="26"><a href="http://console.nacos.io/nacos/index.html" data-reactid="27">DEMO-CONSOLE</a></li></ul></div></div></header><div class="bar" data-reactid="28"><div class="bar-body" data-reactid="29"><img src="/img/docs.png" class="front-img" data-reactid="30"/><div class="bar-title" data-reactid="31"><span data-reactid="32">Documentation</span><div class="bone bone-light" data-reactid="33"></div></div><img src="/img/docs.png" class="back-img" data-reactid="34"/></div></div><section class="content-section" data-reactid="35"><div class="content-body" data-reactid="36"><div class="sidemenu" data-reactid="37"><div class="sidemenu-toggle" data-reactid="38"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png" data-reactid="39"/></div><ul data-reactid="40"><li class="menu-item menu-item-level-1" data-reactid="41"><span data-reactid="42">Nacos </span><ul data-reactid="43"><li style="height:180px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="44"><span data-reactid="45"><!-- react-text: 46 -->What is Nacos<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="47"/></span><ul data-reactid="48"><li class="menu-item menu-item-level-3" data-reactid="49"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="50">What is Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="51"><a href="/en-us/docs/concepts.html" target="_self" data-reactid="52">Concepts</a></li><li class="menu-item menu-item-level-3" data-reactid="53"><a href="/en-us/docs/architecture.html" target="_self" data-reactid="54">Architecure</a></li><li class="menu-item menu-item-level-3" data-reactid="55"><a href="/en-us/docs/feature-list.html" target="_self" data-reactid="56">Feature list</a></li></ul></li><li style="height:324px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="57"><span data-reactid="58"><!-- react-text: 59 -->Quick Start<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="60"/></span><ul data-reactid="61"><li class="menu-item menu-item-level-3" data-reactid="62"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="63">Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="64"><a href="/en-us/docs/quick-start-spring.html" target="_self" data-reactid="65">Nacos Spring</a></li><li class="menu-item menu-item-level-3" data-reactid="66"><a href="/en-us/docs/quick-start-spring-boot.html" target="_self" data-reactid="67">Nacos Spring Boot</a></li><li class="menu-item menu-item-level-3" data-reactid="68"><a href="/en-us/docs/quick-start-spring-cloud.html" target="_self" data-reactid="69">Nacos Spring Cloud</a></li><li class="menu-item menu-item-level-3" data-reactid="70"><a href="/en-us/docs/quick-start-docker.html" target="_self" data-reactid="71">Nacos Docker</a></li><li class="menu-item menu-item-level-3" data-reactid="72"><a href="/en-us/docs/use-nacos-with-dubbo.html" target="_self" data-reactid="73">Nacos with Dubbo</a></li><li class="menu-item menu-item-level-3" data-reactid="74"><a href="/en-us/docs/use-nacos-with-kubernetes.html" target="_self" data-reactid="75">Nacos with K8s</a></li><li class="menu-item menu-item-level-3" data-reactid="76"><a href="/en-us/docs/nacos-sync.html" target="_self" data-reactid="77">Nacos Sync</a></li></ul></li><li style="height:252px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="78"><span data-reactid="79"><!-- react-text: 80 -->User Guide<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="81"/></span><ul data-reactid="82"><li class="menu-item menu-item-level-3" data-reactid="83"><a href="/en-us/docs/sdk.html" target="_self" data-reactid="84">Java SDK</a></li><li class="menu-item menu-item-level-3" data-reactid="85"><a href="/en-us/docs/other-language.html" target="_self" data-reactid="86">Other Language</a></li><li class="menu-item menu-item-level-3" data-reactid="87"><a href="/en-us/docs/open-api.html" target="_self" data-reactid="88">Open-API</a></li><li class="menu-item menu-item-level-3" data-reactid="89"><a href="/en-us/docs/nacos-spring.html" target="_self" data-reactid="90">Nacos Spring</a></li><li class="menu-item menu-item-level-3" data-reactid="91"><a href="/en-us/docs/system-configurations.html" target="_self" data-reactid="92">Nacos System Configurations</a></li><li class="menu-item menu-item-level-3" data-reactid="93"><a href="/en-us/docs/faq.html" target="_self" data-reactid="94">FAQ</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="95"><span data-reactid="96"><!-- react-text: 97 -->Admin Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="98"/></span><ul data-reactid="99"><li class="menu-item menu-item-level-3" data-reactid="100"><a href="/en-us/docs/deployment.html" target="_self" data-reactid="101">Deployment Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="102"><a href="/en-us/docs/cluster-mode-quick-start.html" target="_self" data-reactid="103">Cluster Mode Deployment</a></li><li class="menu-item menu-item-level-3" data-reactid="104"><a href="/en-us/docs/management-api.html" target="_self" data-reactid="105">Management OpenAPI</a></li><li class="menu-item menu-item-level-3" data-reactid="106"><a href="/en-us/docs/console-guide.html" target="_self" data-reactid="107">Admin Console Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="108"><a href="/en-us/docs/monitor-guide.html" target="_self" data-reactid="109">Nacos Monitor Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="110"><a href="/en-us/docs/nacos-config-benchmark.html" target="_self" data-reactid="111">Nacos Config Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="112"><a href="/en-us/docs/nacos-naming-benchmark.html" target="_self" data-reactid="113">Nacos Naming Benchmark</a></li><li class="menu-item menu-item-level-3" data-reactid="114"><a href="/en-us/docs/nacos-sync-use.html" target="_self" data-reactid="115">Data Migration to Nacos</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="116"><span data-reactid="117"><!-- react-text: 118 -->Contributor Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="119"/></span><ul data-reactid="120"><li class="menu-item menu-item-level-3" data-reactid="121"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="122">Contribute to Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="123"><a href="/en-us/docs/contributing-flow.html" target="_self" data-reactid="124">Contributing Flow</a></li><li class="menu-item menu-item-level-3" data-reactid="125"><a href="/en-us/docs/pull-request.html" target="_self" data-reactid="126">Pull Request Template</a></li><li class="menu-item menu-item-level-3" data-reactid="127"><a href="/en-us/docs/how-to-reporting-bugs.html" target="_self" data-reactid="128">How to report bugs</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="129"><span data-reactid="130"><!-- react-text: 131 -->Community<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="132"/></span><ul data-reactid="133"><li class="menu-item menu-item-level-3" data-reactid="134"><a href="/en-us/docs/community.html" target="_self" data-reactid="135">Community</a></li><li class="menu-item menu-item-level-3" data-reactid="136"><a href="/en-us/docs/nacos-dev.html" target="_self" data-reactid="137">Develop Team</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body" data-reactid="138"><h1>Quick Start for Nacos Spring Boot Projects</h1>
<p>This quick start introduces how to enable Nacos configuration management and service discovery features for your Spring Boot project.</p>
<p>For more details about Nacos Spring Boot: <a href="https://github.com/nacos-group/nacos-spring-boot-project/wiki/spring-boot-0.2.2-%E4%BB%A5%E5%8F%8A-0.1.2%E7%89%88%E6%9C%AC%E6%96%B0%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C">nacos-spring-boot-project</a>.</p>
<p>The quick start includes two samples:</p>
<ul>
<li>How to enable dynamic configuration updates with Nacos server and nacos-config-spring-boot-starter;</li>
<li>How to enable service registration and discovery with Nacos Server and nacos-discovery-spring-boot-starter.</li>
</ul>
<h2>Prerequisite</h2>
<p>Follow instructions in <a href="https://nacos.io/zh-cn/docs/quick-start.html">Nacos Quick Start</a> to download Nacos and start the Nacos server.</p>
<h2>Enable Configuration Service</h2>
<p>Once you start the Nacos server, you can follow the steps below to enable the Nacos configuration management service for your Spring Boot project.</p>
<p>Sample project: <a href="https://github.com/nacos-group/nacos-examples/tree/master/nacos-spring-boot-example/nacos-spring-boot-config-example">nacos-spring-boot-config-example</a></p>
<ol>
<li>Add the Nacos Spring Boot dependency.</li>
</ol>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt;
    &lt;artifactId&gt;nacos-config-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${latest.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p><strong>Note</strong>: Version <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-config-spring-boot-starter">0.2.x.RELEASE</a> is compatible with the Spring Boot 2.0.x line. Version <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-config-spring-boot-starter">0.1.x.RELEASE</a> is compatible with the Spring Boot 1.x line.</p>
<ol start="2">
<li>Configure the Nacos server address in <code>application.properties</code> :</li>
</ol>
<pre><code>nacos.config.server-addr=127.0.0.1:8848
</code></pre>
<ol start="3">
<li>Use <code>@NacosPropertySource</code> to load the configuration source whose <code>dataId</code> is <code>example</code> , and enable autorefresh of configuration updates:</li>
</ol>
<pre><code class="language-plain">@SpringBootApplication
@NacosPropertySource(dataId = &quot;example&quot;, autoRefreshed = true)
public class NacosConfigApplication {

    public static void main(String[] args) {
        SpringApplication.run(NacosConfigApplication.class, args);
    }
}
</code></pre>
<ol start="4">
<li>Specify the property value of the <code>@NacosValue</code> annotation of Nacos.</li>
</ol>
<pre><code>@Controller
@RequestMapping(&quot;config&quot;)
public class ConfigController {

    @NacosValue(value = &quot;${useLocalCache:false}&quot;, autoRefreshed = true)
    private boolean useLocalCache;

    @RequestMapping(value = &quot;/get&quot;, method = GET)
    @ResponseBody
    public boolean get() {
        return useLocalCache;
    }
}
</code></pre>
<ol start="5">
<li>
<p>Start <code>NacosConfigApplication</code>and call <code>curl http://localhost:8080/config/get</code>. You will get a return message of <code>false</code>, as no configuration has been published so far.</p>
</li>
<li>
<p>Call <a href="https://nacos.io/zh-cn/docs/open-API.html">Nacos Open API</a> to publish a configuration to the Nacos server. Assume the dataId is <code>example</code>, and the content is <code>useLocalCache=true</code>.</p>
</li>
</ol>
<pre><code>curl -X POST &quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=example&amp;group=DEFAULT_GROUP&amp;content=useLocalCache=true&quot;
</code></pre>
<ol start="7">
<li>Access <code>http://localhost:8080/config/get</code>again, and the returned value will be<code>true</code>，indicating that the value of <code>useLocalCache</code>in your application has been updated.</li>
</ol>
<h2>Enable Service Discovery</h2>
<p>Now you would also like to enable the service discovery feature of Nacos in your Spring Boot project.</p>
<p>Sample project: <a href="https://github.com/nacos-group/nacos-examples/tree/master/nacos-spring-boot-example/nacos-spring-boot-discovery-example">nacos-spring-boot-discovery-example</a></p>
<ol>
<li>Add the Nacos Spring Boot dependency.</li>
</ol>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt;
    &lt;artifactId&gt;nacos-discovery-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${latest.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p><strong>Note</strong>: Version <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-discovery-spring-boot-starter">0.2.x.RELEASE</a> is compatible with the Spring Boot 2.0.x line. Version <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-discovery-spring-boot-starter">0.1.x.RELEASE</a> is compatible with the Spring Boot 1.x line.</p>
<ol start="2">
<li>Configure the Nacos server address in <code>application.properties</code> :</li>
</ol>
<pre><code>nacos.discovery.server-addr=127.0.0.1:8848
</code></pre>
<ol start="3">
<li>Use <code>@NacosInjected</code> to inject a Nacos <code>NamingService</code> instance:</li>
</ol>
<pre><code>@Controller
@RequestMapping(&quot;discovery&quot;)
public class DiscoveryController {

    @NacosInjected
    private NamingService namingService;

    @RequestMapping(value = &quot;/get&quot;, method = GET)
    @ResponseBody
    public List&lt;Instance&gt; get(@RequestParam String serviceName) throws NacosException {
        return namingService.getAllInstances(serviceName);
    }
}

@SpringBootApplication
public class NacosDiscoveryApplication {

    public static void main(String[] args) {
        SpringApplication.run(NacosDiscoveryApplication.class, args);
    }
}
</code></pre>
<ol start="4">
<li>
<p>Start <code>NacosDiscoveryApplication</code>and call <code>curl http://localhost:8080/discovery/get?serviceName=example</code>，you will get a return value of an empty JSON array <code>[]</code>.</p>
</li>
<li>
<p>Call <a href="https://nacos.io/zh-cn/docs/open-API.html">Nacos Open API</a> to register a service called <code>example</code> to the Nacos server.</p>
</li>
</ol>
<pre><code>curl -X PUT 'http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=example&amp;ip=127.0.0.1&amp;port=8080'
</code></pre>
<ol start="6">
<li>Access <code>curl http://localhost:8080/discovery/get?serviceName=example</code>again and you will get the following return:</li>
</ol>
<pre><code>[
  {
    &quot;instanceId&quot;: &quot;127.0.0.1-8080-DEFAULT-example&quot;,
    &quot;ip&quot;: &quot;127.0.0.1&quot;,
    &quot;port&quot;: 8080,
    &quot;weight&quot;: 1.0,
    &quot;healthy&quot;: true,
    &quot;cluster&quot;: {
      &quot;serviceName&quot;: null,
      &quot;name&quot;: &quot;&quot;,
      &quot;healthChecker&quot;: {
        &quot;type&quot;: &quot;TCP&quot;
      },
      &quot;defaultPort&quot;: 80,
      &quot;defaultCheckPort&quot;: 80,
      &quot;useIPPort4Check&quot;: true,
      &quot;metadata&quot;: {}
    },
    &quot;service&quot;: null,
    &quot;metadata&quot;: {}
  }
]
</code></pre>
<h2>Related Projects</h2>
<ul>
<li><a href="https://github.com/alibaba/nacos">Nacos</a></li>
<li><a href="https://github.com/nacos-group/nacos-spring-project">Nacos Spring</a></li>
<li><a href="https://github.com/nacos-group/nacos-spring-boot-project">Nacos Spring Boot</a></li>
<li><a href="https://github.com/alibaba/spring-cloud-alibaba">Spring Cloud Alibaba</a></li>
</ul>
</div></div></section><footer class="footer-container" data-reactid="139"><div class="footer-body" data-reactid="140"><img src="/img/nacos_gray.png" data-reactid="141"/><div class="cols-container" data-reactid="142"><div class="col col-12" data-reactid="143"><h3 data-reactid="144">Vision</h3><p data-reactid="145">By providing an easy-to-use service infrastructure such as dynamic service discovery, service configuration, service sharing and management and etc., Nacos help users better construct, deliver and manage their own service platform, reuse and composite business service faster and deliver value of business innovation more quickly so as to win market for users in the era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class="col col-6" data-reactid="146"><dl data-reactid="147"><dt data-reactid="148">Documentation</dt><dd data-reactid="149"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="150">Overview</a></dd><dd data-reactid="151"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="152">Quick start</a></dd><dd data-reactid="153"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="154">Developer guide</a></dd></dl></div><div class="col col-6" data-reactid="155"><dl data-reactid="156"><dt data-reactid="157">Resources</dt><dd data-reactid="158"><a href="/en-us/community/index.html" target="_self" data-reactid="159">Community</a></dd><dd data-reactid="160"><a href="https://www.aliyun.com/product/acm?source_type=nacos_pc_20181219" target="_self" data-reactid="161">Cloud Service ACM</a></dd><dd data-reactid="162"><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self" data-reactid="163">Cloud Service EDAS</a></dd><dd data-reactid="164"><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self" data-reactid="165">Cloud Service AHAS</a></dd></dl></div></div><div class="copyright" data-reactid="166"><span data-reactid="167">@ 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>