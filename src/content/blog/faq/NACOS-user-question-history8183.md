---
id: "question-history-8183"
title: "Nacos部署开放端口，集群部署开通端口 nacos-opensource"
date: "2024-04-23"
category: expertConsultation
description: "nacos-opensource Nacos部署开放端口，集群部署开通端口"
tags: ["部署","开放端口","集群部署","开通端口"]
keywords: ["部署","开放端口","集群部署","开通端口"]
---

## 用户问题 ： 
 Nacos部署开放端口，集群部署开通端口 nacos-opensource 

---------------
## 专家官方解答 ：

Nacos部署开放端口是为了确保其各组件间通信以及外部访问的正常进行。在集群部署环境下，需开通特定端口以实现服务发现、配置管理等功能的高效运作。以下是针对Nacos部署开放端口的具体步骤：

1. **识别所需端口**：
   根据提供的知识，Nacos部署涉及以下四个端口：

   - **主端口 (8848)**：这是Nacos客户端、控制台及OpenAPI所使用的HTTP端口。
   - **客户端gRPC请求服务端端口 (9848)**：用于客户端向服务端发起连接和请求。
   - **服务端gRPC请求服务端端口 (9849)**：服务于服务间同步等操作。
   - **Jraft请求服务端端口 (7848)**：处理服务端间的Raft相关请求。

2. **配置主端口**：
   在Nacos的配置文件（如`application.properties`）中，通过设置`server.port`参数指定服务端的主端口（默认为8848）。Nacos会根据预设的偏移量自动计算并分配其他三个端口。

3. **防火墙规则调整**：
   在部署Nacos的服务器上，确保上述四个端口在防火墙中开放，允许入站和出站流量。具体操作取决于使用的操作系统和防火墙软件，一般包括以下步骤：

   - **添加防火墙规则**：允许外部对8848、9848、9849、7848端口的访问。例如，在Linux系统中使用`iptables`或`firewalld`命令添加相应的放行规则。

   - **云服务商安全组配置**：如果是云环境部署，还需在云服务商的安全组设置中，为Nacos所在的实例或服务器添加对应的端口规则，允许公网或VPC内其他实例访问这些端口。

4. **网络设备端口映射**：
   若通过VIP等网络中转设备暴露Nacos服务，只需将设备的8848端口映射到Nacos节点的8848端口，9848端口映射到9848端口。这样，客户端和服务端可以通过中转设备透明地访问Nacos服务，无需关心具体的Nacos节点地址。

通过以上步骤，您已成功为Nacos部署开放所需端口，并确保了集群内部及外部访问的顺畅。这些端口的正确配置和开放是保障Nacos作为配置中心和注册中心正常运行的基础。


<font color="#949494">---------------</font> 


## 参考链接 ：

*专家经验:Nacos部署开放端口，集群部署开通端口 
 
 *专家经验:NACOS 配置中心和注册中心是分两个集群部署还是放在一个集群中 
 
 *[Nacos 2.0 升级文档](https://nacos.io/docs/latest/upgrading/200-upgrading)


 <font color="#949494">---------------</font> 
 


## <font color="#FF0000">答疑服务说明：</font> 

本内容经由技术专家审阅的用户问答的镜像生成，我们提供了<font color="#FF0000">专家智能答疑服务</font>，在<font color="#FF0000">页面的右下的浮窗”专家答疑“</font>。您也可以访问 : [全局专家答疑](https://opensource.alibaba.com/chatBot) 。 咨询其他产品的的问题

### 反馈
如问答有错漏，欢迎点：[差评](https://ai.nacos.io/user/feedbackByEnhancerGradePOJOID?enhancerGradePOJOId=11505)给我们反馈。
