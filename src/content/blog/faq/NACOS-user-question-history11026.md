---
id: "question-history-11026"
title: "Nacos 暂时不支持图片，请用文字描述，摘抄重点即可请问下，角色授权时不能多选命令空间吗  一个角色只能给一个命名空间授权有点鸡肋啊 nacos-opensource"
date: "2024-04-23"
category: expertConsultation
description: "nacos-opensource Nacos 暂时不支持图片，请用文字描述，摘抄重点即可请问下，角色授权时不能多选命令空间吗  一个角色只能给一个命名空间授权有点鸡肋啊"
tags: ["角色授权","命名空间","多选","命令空间"]
keywords: ["角色授权","命名空间","多选","命令空间"]
---

## 用户问题 ： 
 Nacos 暂时不支持图片，请用文字描述，摘抄重点即可请问下，角色授权时不能多选命令空间吗  一个角色只能给一个命名空间授权有点鸡肋啊 nacos-opensource 

---------------
## 专家官方解答 ：

在Nacos中，角色授权时确实无法多选命令空间。这一限制源于Nacos默认鉴权插件对资源控制的设计原则，即对资源的控制粒度精确到单个命名空间级别。由于命名空间在Nacos中具有强隔离属性，这意味着赋予一个角色的权限范围仅限于单一命名空间内，不允许跨越不同命名空间进行访问。因此，当前情况下，一个角色只能被授予对一个命名空间的访问权限。

针对这一问题，我了解的知识提供了两种解决方案：

1. **创建多个角色**：为每个需要访问的命名空间创建一个单独的角色，并为每个角色分配相应的命名空间权限。然后，将这些角色关联到同一个账号。这样一来，使用该账号登录时，由于其关联了多个具有不同命名空间权限的角色，用户便可以访问多个命名空间的资源。

2. **升级并开发自定义鉴权插件**：将Nacos版本升级至2.1或更高，并自行开发自定义的Nacos鉴权插件。在自定义插件中实现支持一个角色控制多个命名空间的功能。关于如何开发自定义鉴权插件，可以参考官方文档[https://nacos.io/docs/next/plugin/auth-plugin/](https://nacos.io/docs/next/plugin/auth-plugin/)获取详细指导。

综上所述，针对Nacos角色授权无法多选命令空间的问题，您可以通过创建多个角色并将其关联至同一账号，或者升级至2.1版以上并开发自定义鉴权插件以实现一个角色控制多个命名空间，从而满足跨命名空间访问的需求。


<font color="#949494">---------------</font> 


## 参考链接 ：

*专家经验:角色授权时不能多选命令空间 
 
 *[控制台手册](https://nacos.io/docs/latest/guide/admin/console-guide)


 <font color="#949494">---------------</font> 
 


## <font color="#FF0000">答疑服务说明：</font> 

本内容经由技术专家审阅的用户问答的镜像生成，我们提供了<font color="#FF0000">专家智能答疑服务</font>，在<font color="#FF0000">页面的右下的浮窗”专家答疑“</font>。您也可以访问 : [全局专家答疑](https://opensource.alibaba.com/chatBot) 。 咨询其他产品的的问题

### 反馈
如问答有错漏，欢迎点：[差评](https://ai.nacos.io/user/feedbackByEnhancerGradePOJOID?enhancerGradePOJOId=11678)给我们反馈。
